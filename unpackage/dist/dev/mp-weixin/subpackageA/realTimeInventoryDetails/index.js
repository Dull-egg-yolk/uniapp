require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpackageA/realTimeInventoryDetails/index"],{134:function(e,t,s){"use strict";(function(e,t){var n=s(4);s(26);n(s(25));var i=n(s(135));e.__webpack_require_UNI_MP_PLUGIN__=s,t(i.default)}).call(this,s(1)["default"],s(2)["createPage"])},135:function(e,t,s){"use strict";s.r(t);var n=s(136),i=s(138);for(var r in i)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return i[e]}))}(r);s(140);var o,u=s(32),a=Object(u["default"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"c651f854",null,!1,n["components"],o);a.options.__file="subpackageA/realTimeInventoryDetails/index.vue",t["default"]=a.exports},136:function(e,t,s){"use strict";s.r(t);var n=s(137);s.d(t,"render",(function(){return n["render"]})),s.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]})),s.d(t,"recyclableRender",(function(){return n["recyclableRender"]})),s.d(t,"components",(function(){return n["components"]}))},137:function(e,t,s){"use strict";var n;s.r(t),s.d(t,"render",(function(){return i})),s.d(t,"staticRenderFns",(function(){return o})),s.d(t,"recyclableRender",(function(){return r})),s.d(t,"components",(function(){return n}));try{n={uniTable:function(){return s.e("uni_modules/uni-table/components/uni-table/uni-table").then(s.bind(null,393))},uniTr:function(){return s.e("uni_modules/uni-table/components/uni-tr/uni-tr").then(s.bind(null,400))},uniTh:function(){return s.e("uni_modules/uni-table/components/uni-th/uni-th").then(s.bind(null,407))},uniTd:function(){return s.e("uni_modules/uni-table/components/uni-td/uni-td").then(s.bind(null,414))},uniPagination:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-pagination/components/uni-pagination/uni-pagination")]).then(s.bind(null,368))},uniIcons:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(s.bind(null,360))},uniPopup:function(){return s.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(s.bind(null,345))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,t=e.$createElement,s=(e._self._c,e._f("getStamp")(e.selectedDate)),n=e.__map(e.warehouseList,(function(t,s){var n=e.__get_orig(t),i=e.isSelected(t);return{$orig:n,m0:i}})),i=e.selectedIds.length,r=e.__map(e.classList,(function(t,s){var n=e.__get_orig(t),i=e.isClassSelected(t);return{$orig:n,m1:i}}));e._isMounted||(e.e0=function(t){e.showClassPicker=!0},e.e1=function(t){e.showPicker=!0}),e.$mp.data=Object.assign({},{$root:{f0:s,l0:n,g0:i,l1:r}})},r=!1,o=[];i._withStripped=!0},138:function(e,t,s){"use strict";s.r(t);var n=s(139),i=s.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},139:function(e,t,s){"use strict";(function(e){var n=s(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(s(43)),r=n(s(45)),o=n(s(18)),u=s(73),a=s(115),c=s(74),l={data:function(){return{selectedDate:(new Date).getTime()+288e5,tableData:[],classList:[],warehouseList:[],currentPage:1,totalPages:5,recipient:"",subject:"",selectedClass:"",isDisabled:!1,query:{Page:1,Size:5,ClassIDs:"",WarehouseIDs:""},timer:null,selectedIds:[],selectedClassIds:[],tempSelectedIds:[],classSelectedIds:[],showPicker:!1,showClassPicker:!1}},filters:{getData:function(e){return e?(0,a.formatTime)(e):""},getStamp:function(e){var t=new Date(e).toISOString().replace(/T/," ").replace(/\..+/,"").substring(0,19);return t}},computed:{selectedNames:function(){var e=this;return console.log(this.selectedIds,"kuf"),this.selectedIds.map((function(t){var s=e.warehouseList.find((function(e){return e.ID===t}));return s?s.Name:""})).filter((function(e){return e})).join(", ")},selectedCalssNames:function(){var e=this;return console.log(this.selectedClassIds,"zhanshi "),this.selectedClassIds.map((function(t){var s=e.classList.find((function(e){return e.ID===t}));return s?s.Name:""})).filter((function(e){return e})).join(", ")},isAllSelected:function(){return this.tempSelectedIds.length===this.warehouseList.length},isAllClassSelected:function(){return this.classSelectedIds.length===this.classList.length}},watch:{showPicker:function(e){e?(this.tempSelectedIds=(0,o.default)(this.selectedIds),this.$refs.popup.open()):this.$refs.popup.close()},showClassPicker:function(e){e?(this.classSelectedIds=(0,o.default)(this.selectedClassIds),this.$refs.classpopup.open()):this.$refs.classpopup.close()}},onLoad:function(){this.getWarehouseList(),this.getHotelClassList(),this.getReportGoodsCurrent()},methods:{getClassList:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var s;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,c.getHotelClass)();case 2:s=t.sent,e.classList=s.Data;case 4:case"end":return t.stop()}}),t)})))()},closePopup:function(){this.showPicker=!1},closeCalssPopup:function(){this.showClassPicker=!1},getWarehouseList:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var s;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,c.getWarehouse)();case 2:s=t.sent,console.log(s),s.Data.push({CreatedAt:"2025-04-19T21:11:34.41+08:00",DeletedAt:null,ID:0,Name:"汇总",Place:"",UpdatedAt:"2025-04-19T21:11:34.41+08:00"}),e.warehouseList=s.Data;case 6:case"end":return t.stop()}}),t)})))()},getReportGoodsCurrent:function(){var t=this;return(0,r.default)(i.default.mark((function s(){return i.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,(0,c.getReportGoodsCurrent)(t.query).then((function(s){s.ErrorMsg?e.showToast({title:s.ErrorMsg,icon:"none"}):(t.tableData=s.Data,t.totalPages=parseInt(s.Total))}));case 2:case"end":return s.stop()}}),s)})))()},getHotelClassList:function(){return(0,r.default)(i.default.mark((function e(){return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,c.getGoodsItme)();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()},handlePageChange:function(e){("prev"===e.type||"next"===e.type)&&(this.query.Page=e.current,this.getReportGoodsCurrent())},onDateChange:function(e){this.selectedDate=e.detail.value,this.query.Date=e.detail.value,this.getReportGoodsCurrent()},sendEmail:(0,u.throttle)((0,r.default)(i.default.mark((function t(){var s,n=this;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.recipient){t.next=3;break}return e.showToast({title:"请输入接收邮箱",icon:"none"}),t.abrupt("return");case 3:return s={Emails:this.recipient,ReportType:"CurrentStock",WarehouseIDs:this.selectedIds.toString(),ClassIDs:this.selectedClassIds.toString()},t.next=6,(0,c.reportEmail)(s).then((function(t){t.ErrorMsg?e.showToast({title:t.ErrorMsg,icon:"none"}):(e.showToast({title:"邮件已发送",icon:"none"}),n.isDisabled=!0,n.timer=setTimeout((function(){n.isDisabled=!1}),6e4))}));case 6:case"end":return t.stop()}}),t,this)}))),0),onClassChange:function(e){this.selectedClass=this.classList[e.detail.value].Name,this.query.Goods=this.classList[e.detail.value].ID,this.getReportGoodsCurrent()},toggleItem:function(e){var t=this.tempSelectedIds.indexOf(e.ID);t>-1?this.tempSelectedIds.splice(t,1):this.tempSelectedIds.push(e.ID)},isSelected:function(e){return this.tempSelectedIds.includes(e.ID)},toggleSelectAll:function(){this.isAllSelected?this.tempSelectedIds=[]:this.tempSelectedIds=this.warehouseList.map((function(e){return e.ID}))},confirm:function(){this.selectedIds=(0,o.default)(this.tempSelectedIds),console.log(this.selectedIds,"确认选择"),this.query.WarehouseIDs=this.selectedIds.toString(),this.showPicker=!1,this.$emit("change",this.selectedIds),this.getReportGoodsCurrent()},cancel:function(){this.tempSelectedIds=(0,o.default)(this.selectedIds),this.showPicker=!1},toggleClassItem:function(e){var t=this.classSelectedIds.indexOf(e.ID);t>-1?this.classSelectedIds.splice(t,1):this.classSelectedIds.push(e.ID)},isClassSelected:function(e){return this.classSelectedIds.includes(e.ID)},toggleClassSelectAll:function(){this.isAllClassSelected?this.classSelectedIds=[]:this.classSelectedIds=this.classList.map((function(e){return e.ID}))},confirmClass:function(){this.selectedClassIds=(0,o.default)(this.classSelectedIds),this.showClassPicker=!1,this.$emit("change",this.selectedClassIds),this.query.ClassIDs=this.selectedClassIds.toString(),this.getReportGoodsCurrent()},cancelClass:function(){this.classSelectedIds=(0,o.default)(this.selectedClassIds),this.showClassPicker=!1},openPicker:function(){this.showPicker=!0}},mounted:function(){this.getHotelClassList(),this.getReportGoodsCurrent(),this.getWarehouseList(),this.getClassList()},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}};t.default=l}).call(this,s(2)["default"])},140:function(e,t,s){"use strict";s.r(t);var n=s(141),i=s.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},141:function(e,t,s){}},[[134,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/subpackageA/realTimeInventoryDetails/index.js.map