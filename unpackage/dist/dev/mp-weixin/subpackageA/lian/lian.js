require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpackageA/lian/lian"],{191:function(e,n,t){"use strict";(function(e,n){var i=t(4);t(26);i(t(25));var o=i(t(192));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t(1)["default"],t(2)["createPage"])},192:function(e,n,t){"use strict";t.r(n);var i=t(193),o=t(195);for(var c in o)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(c);t(212);var r,a=t(32),u=Object(a["default"])(o["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],r);u.options.__file="subpackageA/lian/lian.vue",n["default"]=u.exports},193:function(e,n,t){"use strict";t.r(n);var i=t(194);t.d(n,"render",(function(){return i["render"]})),t.d(n,"staticRenderFns",(function(){return i["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return i["recyclableRender"]})),t.d(n,"components",(function(){return i["components"]}))},194:function(e,n,t){"use strict";var i;t.r(n),t.d(n,"render",(function(){return o})),t.d(n,"staticRenderFns",(function(){return r})),t.d(n,"recyclableRender",(function(){return c})),t.d(n,"components",(function(){return i}));try{i={uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,360))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,n=e.$createElement,t=(e._self._c,e.deviceData.length);e.$mp.data=Object.assign({},{$root:{g0:t}})},c=!1,r=[];o._withStripped=!0},195:function(e,n,t){"use strict";t.r(n);var i=t(196),o=t.n(i);for(var c in i)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(c);n["default"]=o.a},196:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=t(197),o=(0,i.usePrint)(),c=o.scanedPrinters,r=o.getConnName,a=o.openPrinter,u=o.closePrinter,d=!1,s={data:function(){return{deviceData:[],printDevice:null}},methods:{cancelConnect:function(){u(),d=!1,console.log("断开打印机"),this.printDevice=null,this.handleSearchDevice()},handleSearchDevice:function(){var n=this;e.showLoading({title:"搜索打印机中..."}),c((function(t){console.log(t,"printers"),t=t.filter((function(e){return e.name&&!e.name.includes("未知设备")})),n.printDevice&&n.printDevice.name&&(t.some((function(e){return e.deviceId===n.printDevice.deviceId}))?t=t.filter((function(e){return e.deviceId!==n.printDevice.deviceId})):t.unshift(n.printDevice.value)),n.deviceData=t.reduce((function(e,n){return e.some((function(e){return e.deviceId===n.deviceId}))||e.push(n),e}),[]),e.hideLoading(),console.log(n.deviceData,"deviceData")}))},handleConnect:function(n){var t=this;console.log("开始连接"),console.log("handleConnect",n),e.showLoading({title:"正在连接中..."}),d=!0,a(n.name,(function(){e.hideLoading(),console.log("连接成功");var i=getApp();i.globalData.bluetoothConnected=!0,e.setL,t.printDevice=n,t.deviceData=t.deviceData.filter((function(e){return e.deviceId!==n.deviceId})),e.setStorageSync("isBluetooth",!0)}),(function(){d?(e.hideLoading(),console.log("连接失败"),e.showToast({icon:"none",title:"打印机连接失败，请确认打印机是否开机"})):e.showToast({icon:"none",title:"断开打印机成功"})}))}},mounted:function(){var e=r();e&&(this.printDevice=e),this.handleSearchDevice()}};n.default=s}).call(this,t(2)["default"])},212:function(e,n,t){"use strict";t.r(n);var i=t(213),o=t.n(i);for(var c in i)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(c);n["default"]=o.a},213:function(e,n,t){}},[[191,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/subpackageA/lian/lian.js.map